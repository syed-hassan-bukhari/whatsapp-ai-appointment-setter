{
  "name": "AI WhatsApp Appointment Setter",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "type": "n8n-nodes-base.whatsAppTrigger",
      "typeVersion": 1,
      "position": [
        -272,
        -104
      ],
      "id": "5f12cd66-4b2c-4ffa-b468-1487e05c2dc6",
      "name": "WhatsApp Trigger",
      "webhookId": "bd34725e-4925-4d41-a0aa-842556526836",
      "credentials": {
        "whatsAppTriggerApi": {
          "id": "6tfpXqwoJ1mqzLbY",
          "name": "WhatsApp OAuth account 2"
        }
      }
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "={{ $('WhatsApp Trigger').item.json.metadata.phone_number_id }}",
        "recipientPhoneNumber": "={{ $('WhatsApp Trigger').item.json.contacts[0].wa_id }}",
        "textBody": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        2080,
        -104
      ],
      "id": "8163f8b1-f845-4036-98a7-5d87f568eb76",
      "name": "Send message",
      "webhookId": "251f4d4b-0954-4a07-8e44-65c9ca470c35",
      "credentials": {
        "whatsAppApi": {
          "id": "P1sFm9Wb3COwv2eL",
          "name": "WhatsApp account 2"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.messages[0].text.body }}",
        "options": {
          "systemMessage": "You are a helpful AI assistant.\n\n#You have access to these tools:\n\nA Google Calendar tool that allows you to create, reschedule, and delete events in the calendar.\n\nSeveral Google Sheet tools:\n\n\"Google Sheet Add Row\": allows you to add new rows to a Google Sheet\n\n\"Google Sheet Update Row\": allows you to update rows in a Google Sheet\n\n\"Google Sheet Read\": allows you to read content of the Google Sheet\n\nGmail Send Confirmation User: allows you to send a confirmation email to the user after the booking is confirmed.\n\nThe current time and date is the following Pakistan Time Zone: {{ $now }}.\n\n#Your Task:\n\nStart by asking the user:\n\n\"Would you like to book an appointment?\"\n\nIf the user responds with yes, begin collecting their contact information.\n\nYou must always collect the contact information in the following strict order:\n\nFirst: Email address\n\n→ This will be used as the unique identifier to match the row in the Google Sheet.\n\nAfter receiving the email address, immediately check if a row with this email already exists using \"Google Sheet - Read\".\n\nIf found, use \"Google Sheet Update Row\" to update the existing row\n\nIf not found, use \"Google Sheet Add Row\" to create a new one with the email.\n\nThen: Full name\n\nThen: Phone number\n\nThen: Location or time zone\n\n! Only ask for one piece of information at a time.\n! Wait for the user's reply before asking the next question.\n\nAfter every response, immediately update the Google Sheet using \"Google Sheet Update Row\", matched by the email address.\n\nYou must always store all user information (email address, name, phone number, and location/time zone) in the Google Sheet.\n\n2.5) After collecting the location/time zone, ask the user:\n\n\"what would you like to discuss during your appointment?\"\n\nWait for the user's response.\n\nThen immediately update the same row in the Google Sheet using \"Google Sheet Update Row\", matched by the email address.\n\nSave the user's response as the appointment topic or notes.\n\nOnce the user's contact information and discussion topic have been collected, you must offer 5 available time slots for booking.\n\nUse the assistant's local time zone (Pakistan time) to determine availability.\n\nThe available office hours are:\n\nMonday to Friday\n\nMorning block: 09:00-12:00\n\nAfternoon block: 13:00-17:00\n\n(Never offer times between 12:00 and 13:00)\n\nDo not offer any time slots that fall outside of these hours in Pakistan time, even if they appear to be valid in the user's local time zone.\n\nWhen a user requests a time range (e.g., \"afternoon\"), follow this logic:\n\nUnderstand the time range based on the user's time zone.\n\nConvert that time range into Pakistan time.\n\nOnly offer time slots that match both the user's intent and fall within the Pakistan office hours.\n\nYou must check that a full 60-minute block is available:\n\nThe start and end time must not conflict with any existing calendar event.\n\nThe time slot must begin at least 24 hours in the future.\n\nAlways offer the next 5 available 60-minute time slots that meet the above criteria.\n\nOnly display the time slots in the user's time zone.\n\n→ Do not mention Pakistan time anywhere in your response.\n→ Do not include time conversions in parentheses.\n\nPresent the time slots in a simple, friendly format like:\n\n\"Here are the next available time slots in your local time zone:\n\nThursday at 10:00 AM\nFriday at 11:30 AM\"\n\nIf no valid slots match the user's requested period (e.g., afternoon), politely inform the user and offer the next closest options.\n\nNever mention unavailable or already booked time slots.\nOnly show the free ones.\nDo not include notes, reminders, or explanations about other bookings.\n\nYou must not manually calculate or estimate time zone offsets.\n\n→ Use the Google Calendar tool to convert and format times.\n→ Always respect daylight saving time (DST) in both the user's and assistant's time zone.\n\nWhen the user confirms a preferred date and time, you must:\n\nCreate an event in the Google Calendar at the selected time.\n\nAppointments should always be scheduled for 60 minutes unless the user specifies otherwise.\n\nDo not create a new row in the Google Sheet.\n\nInstead, use the tool \"Google Sheet Update Row\" to update the existing row corresponding to the user (matched by email address) and add the selected date and time as the confirmed appointment.\n\nThe appointment time saved in the Google Sheet must always be in the assistant's local time (Pakistan time), never in the user's time zone.\n\nAfter the booking is confirmed, send a confirmation email to the user using the \"Gmail Send Confirmation User\" tool.\n\nThe email must include:\n\nThe confirmed appointment date and time (in the user's local time zone)\n\nThe user's name and topic of discussion\n\nA short, friendly message confirming the booking\n\nOnly send the confirmation email after the calendar event has been created and all data has been stored in the Google Sheet."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        1288,
        -104
      ],
      "id": "6fe16d84-5cca-4364-bb97-18186e1e9b15",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        848,
        120
      ],
      "id": "8a5eeb71-b528-4ea6-b2db-26d37d8d1fc9",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "VvXkLMSx4p3MMQM7",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.messages[0].from }}",
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        976,
        120
      ],
      "id": "5ea0426f-bce1-43fa-991c-14a36c4e0544",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "your-calendar@gmail.com",
          "mode": "list",
          "cachedResultName": "your-calendar@gmail.com"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1104,
        120
      ],
      "id": "eb576443-a312-42f6-b9ca-153552f640f2",
      "name": "Calendar read",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "qx0SDMuhN7a0aD2f",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "your-calendar@gmail.com",
          "mode": "list",
          "cachedResultName": "your-calendar@gmail.com"
        },
        "start": "={{ $fromAI('Start', `date and time for when the event should start`, 'string') }}",
        "end": "={{ $fromAI(\"end\", \"date and time for when the event should end\") }}",
        "additionalFields": {
          "summary": "={{ $fromAI(\"title\", \"title of the event\") }}"
        }
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1232,
        120
      ],
      "id": "ad368cbb-c06c-4235-8abc-16a3e1a85e33",
      "name": "Calendar  create",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "qx0SDMuhN7a0aD2f",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "calendar": {
          "__rl": true,
          "value": "your-calendar@gmail.com",
          "mode": "list",
          "cachedResultName": "your-calendar@gmail.com"
        },
        "eventId": "={{ $fromAI(\"id\", \"the id of the event\") }}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        1360,
        120
      ],
      "id": "e27e9fbc-57ca-4940-90ab-f5c38c55493b",
      "name": "Calendar  delete",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "qx0SDMuhN7a0aD2f",
          "name": "Google Calendar account"
        }
      }
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "ai agent appointment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit#gid=0"
        },
        "options": {
          "dataLocationOnSheet": {
            "values": {
              "rangeDefinition": "detectAutomatically"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1488,
        120
      ],
      "id": "f32768d0-0c10-419b-a478-2baa6082762d",
      "name": "Get row(s) in sheet in Google Sheets",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oROFv1YZSvLVUHQi",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "ai agent appointment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit#gid=0"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [],
          "schema": [
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Phone",
              "displayName": "Phone",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Appointment Date",
              "displayName": "Appointment Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1616,
        120
      ],
      "id": "4d8f9a6e-6667-4896-be38-a2c6d6c2e4e1",
      "name": "Google Sheets add rows",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oROFv1YZSvLVUHQi",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ $fromAI(\"email\", \"The email address to send the message to\") }}",
        "subject": "={{ $fromAI(\"subject\", \"The email subject\") }}",
        "message": "={{ $fromAI(\"message\", \"The email message content\") }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 1.2,
      "position": [
        1744,
        120
      ],
      "id": "d9f75c70-0754-4cb6-936a-9bf1e20afabb",
      "name": "Send a message in Gmail",
      "credentials": {
        "gmailOAuth2": {
          "id": "0RiBYQANPdHWMpf8",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "YOUR_GOOGLE_SHEET_ID",
          "mode": "list",
          "cachedResultName": "ai agent appointment",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Sheet1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/YOUR_GOOGLE_SHEET_ID/edit#gid=0"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [
            "Email"
          ],
          "schema": [
            {
              "id": "Email",
              "displayName": "Email",
              "required": false,
              "defaultMatch": true,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Name",
              "displayName": "Name",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Phone",
              "displayName": "Phone",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Location",
              "displayName": "Location",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Appointment Date",
              "displayName": "Appointment Date",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.7,
      "position": [
        1872,
        120
      ],
      "id": "7c43f066-de3c-4f80-897f-d8c33bd96f58",
      "name": "Google Sheets update rows",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oROFv1YZSvLVUHQi",
          "name": "Google Sheets account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "f7c82a21-c8fb-4bb1-acc1-51dff9e32cd9",
              "name": "messages",
              "value": "={{ $json.messages }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1072,
        -104
      ],
      "id": "68ef9da1-6cd4-4c3d-a0f9-5c4a42bdb4dd",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "url": "={{ $json.messages[0].audio.url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        432,
        -312
      ],
      "id": "2c4c0267-07c1-4f94-9c46-cc7d19fe3fb3",
      "name": "Download media"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict"
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.messages[0].type }}",
                    "rightValue": "audio",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "audio"
            },
            {
              "renameOutput": true,
              "outputKey": "text"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        80,
        -104
      ],
      "id": "d1ffc4de-4bac-4bb8-a95d-ba33e91bf7db",
      "name": "Switch"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.openai.com/v1/audio/transcriptions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "openAiApi",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "name": "model",
              "value": "whisper-1"
            },
            {
              "parameterType": "formBinaryData",
              "name": "file",
              "inputDataFieldName": "data"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        712,
        -312
      ],
      "id": "e5a8df51-ac43-4ce4-adf2-fd67f88dd86e",
      "name": "HTTP Request",
      "credentials": {
        "openAiApi": {
          "id": "MlZaLKbS02WTqpD9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        728,
        -528
      ],
      "id": "dd50e0e2-78ac-466d-a8b3-4a8d0872b22d",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "MlZaLKbS02WTqpD9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "model": "gpt-4o-mini",
        "options": {
          "temperature": 0.3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1,
      "position": [
        -16,
        -528
      ],
      "id": "72ae3f43-4dd0-49f0-8a7a-f5d3ca0dc19f",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "MlZaLKbS02WTqpD9",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.text }}",
        "hasOutputParser": true,
        "options": {
          "systemMessage": "You are a voice transcription formatter. Your task is to:\n\n1. Correct any spelling, grammar, or punctuation errors in the transcription\n2. Format the text properly with appropriate capitalization and punctuation\n3. Remove filler words like \"um\", \"uh\", \"like\" when excessive\n4. Maintain the original meaning and intent\n5. Keep it concise and clear\n\nReturn ONLY the cleaned transcription text, nothing else."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        1008,
        -312
      ],
      "id": "02e976e9-7827-40eb-a2a3-7ac0dc52e6f9",
      "name": "Transcribe a recording"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "70b29cb6-a01f-4e16-98f0-8d5c764af3d6",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        -192,
        -432
      ],
      "id": "8e8e0e59-a2c5-4a71-ab07-7cfb73c6b9c1",
      "name": "Webhook",
      "webhookId": "70b29cb6-a01f-4e16-98f0-8d5c764af3d6"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "={{ $json.user_message }}"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        72,
        -432
      ],
      "id": "a7ebf0f6-4c63-4aa5-b36e-a52a2cddf7db",
      "name": "Message a model"
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "={{ $json.phone_id }}",
        "recipientPhoneNumber": "={{ $json.phone_number }}",
        "textBody": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1.1,
      "position": [
        304,
        -432
      ],
      "id": "05fec234-8f8b-4362-9b7c-0d51b7215988",
      "name": "Send message1",
      "webhookId": "251f4d4b-0954-4a07-8e44-65c9ca470c35",
      "credentials": {
        "whatsAppApi": {
          "id": "P1sFm9Wb3COwv2eL",
          "name": "WhatsApp account 2"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Send message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Calendar read": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Calendar  create": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Calendar  delete": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get row(s) in sheet in Google Sheets": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets add rows": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets update rows": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Download media": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "Download media",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Transcribe a recording",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Transcribe a recording": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Message a model",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model": {
      "main": [
        [
          {
            "node": "Send message1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Transcribe a recording",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Message a model",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "enhanced-v1.0",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "tags": []
}
